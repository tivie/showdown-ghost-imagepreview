{"version":3,"sources":["../src/ghost-image-preview.js"],"names":[],"mappings":"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","file":"showdown-ghost-imagepreview.js","sourcesContent":["/* jshint node:true, browser:true */\n\n// Ghost Image Preview\n//\n// Manages the conversion of image markdown `![]()` from markdown into the HTML image preview\n// This provides a dropzone and other interface elements for adding images\n// Is only used in the admin client.\n(function (extension) {\n  'use strict';\n\n  if (typeof showdown === 'object') {\n    // global (browser or nodejs global)\n    showdown.extension('ghostimagepreview', extension());\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD\n    define('ghostimagepreview', extension());\n  } else if (typeof exports === 'object') {\n    // Node, CommonJS-like\n    module.exports = extension();\n  } else {\n    // showdown was not found so we throw\n    throw Error('Could not find showdown library');\n  }\n\n}(function() {\n\n  return [\n    // ![] image syntax\n    {\n      type: 'lang',\n      filter: function (text) {\n        var imageMarkdownRegex = /^!(?:\\[([^\\n\\]]*)])(?:\\(([^\\n\\]]*)\\))?$/gim,\n            /* regex from isURL in node-validator. Yum! */\n            uriRegex = /^(?!mailto:)(?:(?:https?|ftp):\\/\\/)?(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i,\n            pathRegex = /^(\\/)?([^\\/\\0]+(\\/)?)+$/i;\n\n        return text.replace(imageMarkdownRegex, function (match, alt, src) {\n          var result = '',\n              output;\n\n          if (src && (src.match(uriRegex) || src.match(pathRegex))) {\n            result = '<img class=\"js-upload-target\" src=\"' + src + '\"/>';\n          }\n\n          output = '<section class=\"js-drop-zone image-uploader\">' +\n              result +\n              '<div class=\"description\">Add image of <strong>' + alt + '</strong></div>' +\n              '<input data-url=\"upload\" class=\"js-fileupload main fileupload\" type=\"file\" name=\"uploadimage\">' +\n              '</section>';\n\n          return output;\n        });\n      }\n    }\n  ];\n}));\n"]}